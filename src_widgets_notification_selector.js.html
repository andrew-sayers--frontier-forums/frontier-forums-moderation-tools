<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Source: src/widgets/notification_selector.js</title>


    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">


    <script>
    var config = {"monospaceLinks":false,"cleverLinks":true,"default":{"outputSourceFiles":true}};
    </script>



</head>
<body>
<div id="wrap" class="clearfix">

<div class="navigation">
    <h3 class="applicationName"><a href="index.html"></a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">

        <li class="item" data-name="AccountHighlighter">
            <span class="title">
                <a href="AccountHighlighter.html">AccountHighlighter</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="AccountHighlighter#highlight"><a href="AccountHighlighter.html#highlight">highlight</a></li>

                <li data-name="AccountHighlighter#highlight_to_element"><a href="AccountHighlighter.html#highlight_to_element">highlight_to_element</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="Action">
            <span class="title">
                <a href="Action.html">Action</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="Action#blockers"><a href="Action.html#blockers">blockers</a></li>

                <li data-name="Action#fire"><a href="Action.html#fire">fire</a></li>

                <li data-name="Action#fire_with_journal"><a href="Action.html#fire_with_journal">fire_with_journal</a></li>

                <li data-name="Action#long_description"><a href="Action.html#long_description">long_description</a></li>

                <li data-name="Action#then"><a href="Action.html#then">then</a></li>

                <li data-name="Action#title"><a href="Action.html#title">title</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="ActionWidget">
            <span class="title">
                <a href="ActionWidget.html">ActionWidget</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="ActionWidget#action"><a href="ActionWidget.html#action">action</a></li>

                <li data-name="ActionWidget#val"><a href="ActionWidget.html#val">val</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="AvailableUsers">
            <span class="title">
                <a href="AvailableUsers.html">AvailableUsers</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="AvailableUsers#active"><a href="AvailableUsers.html#active">active</a></li>

                <li data-name="AvailableUsers#is_ours"><a href="AvailableUsers.html#is_ours">is_ours</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="BulletinBoard">
            <span class="title">
                <a href="BulletinBoard.html">BulletinBoard</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="BulletinBoard#_add_standard_data"><a href="BulletinBoard.html#_add_standard_data">_add_standard_data</a></li>

                <li data-name="BulletinBoard#build_url"><a href="BulletinBoard.html#build_url">build_url</a></li>

                <li data-name="BulletinBoard#config"><a href="BulletinBoard.html#config">config</a></li>

                <li data-name="BulletinBoard#detect_post_error"><a href="BulletinBoard.html#detect_post_error">detect_post_error</a></li>

                <li data-name="BulletinBoard#fix_url"><a href="BulletinBoard.html#fix_url">fix_url</a></li>

                <li data-name="BulletinBoard#get"><a href="BulletinBoard.html#get">get</a></li>

                <li data-name="BulletinBoard#get_pages"><a href="BulletinBoard.html#get_pages">get_pages</a></li>

                <li data-name="BulletinBoard#get_posts"><a href="BulletinBoard.html#get_posts">get_posts</a></li>

                <li data-name="BulletinBoard#parse"><a href="BulletinBoard.html#parse">parse</a></li>

                <li data-name="BulletinBoard#ping"><a href="BulletinBoard.html#ping">ping</a></li>

                <li data-name="BulletinBoard#post"><a href="BulletinBoard.html#post">post</a></li>

                <li data-name="BulletinBoard#process_posts"><a href="BulletinBoard.html#process_posts">process_posts</a></li>

                <li data-name="BulletinBoard#quotes_process"><a href="BulletinBoard.html#quotes_process">quotes_process</a></li>

                <li data-name="BulletinBoard#stringify"><a href="BulletinBoard.html#stringify">stringify</a></li>

                <li data-name="BulletinBoard#thread_posts"><a href="BulletinBoard.html#thread_posts">thread_posts</a></li>

                <li data-name="BulletinBoard#when"><a href="BulletinBoard.html#when">when</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="Cacheable">
            <span class="title">
                <a href="Cacheable.html">Cacheable</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="Cacheable#refresh"><a href="Cacheable.html#refresh">refresh</a></li>

                <li data-name="Cacheable#update_cache"><a href="Cacheable.html#update_cache">update_cache</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="Dashboard">
            <span class="title">
                <a href="Dashboard.html">Dashboard</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="Dashboard#refresh"><a href="Dashboard.html#refresh">refresh</a></li>

                <li data-name="Dashboard#update_cache"><a href="Dashboard.html#update_cache">update_cache</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="DuplicateAccountList">
            <span class="title">
                <a href="DuplicateAccountList.html">DuplicateAccountList</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="DuplicateAccountList#val"><a href="DuplicateAccountList.html#val">val</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="ExtraPost">
            <span class="title">
                <a href="ExtraPost.html">ExtraPost</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="ExtraPost#action"><a href="ExtraPost.html#action">action</a></li>

                <li data-name="ExtraPost#val"><a href="ExtraPost.html#val">val</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="IPAddressReport">
            <span class="title">
                <a href="IPAddressReport.html">IPAddressReport</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="IPAddressReport#action"><a href="IPAddressReport.html#action">action</a></li>

                <li data-name="IPAddressReport#bbcode"><a href="IPAddressReport.html#bbcode">bbcode</a></li>

                <li data-name="IPAddressReport#cache_timeout"><a href="IPAddressReport.html#cache_timeout">cache_timeout</a></li>

                <li data-name="IPAddressReport#html"><a href="IPAddressReport.html#html">html</a></li>

                <li data-name="IPAddressReport#users"><a href="IPAddressReport.html#users">users</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="MiscellaneousCache">
            <span class="title">
                <a href="MiscellaneousCache.html">MiscellaneousCache</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="MiscellaneousCache#refresh"><a href="MiscellaneousCache.html#refresh">refresh</a></li>

                <li data-name="MiscellaneousCache#update_cache"><a href="MiscellaneousCache.html#update_cache">update_cache</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="NewbiePolicy">
            <span class="title">
                <a href="NewbiePolicy.html">NewbiePolicy</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="NewbiePolicy#_action_wrapper"><a href="NewbiePolicy.html#_action_wrapper">_action_wrapper</a></li>

                <li data-name="NewbiePolicy#action_duplicate_wrapper"><a href="NewbiePolicy.html#action_duplicate_wrapper">action_duplicate_wrapper</a></li>

                <li data-name="NewbiePolicy#action_inappropriate_wrapper"><a href="NewbiePolicy.html#action_inappropriate_wrapper">action_inappropriate_wrapper</a></li>

                <li data-name="NewbiePolicy#extra_post_duplicate"><a href="NewbiePolicy.html#extra_post_duplicate">extra_post_duplicate</a></li>

                <li data-name="NewbiePolicy#extra_post_inappropriate"><a href="NewbiePolicy.html#extra_post_inappropriate">extra_post_inappropriate</a></li>

                <li data-name="NewbiePolicy#fire"><a href="NewbiePolicy.html#fire">fire</a></li>

                <li data-name="NewbiePolicy#notification_selector_duplicate"><a href="NewbiePolicy.html#notification_selector_duplicate">notification_selector_duplicate</a></li>

                <li data-name="NewbiePolicy#notification_selector_inappropriate"><a href="NewbiePolicy.html#notification_selector_inappropriate">notification_selector_inappropriate</a></li>

                <li data-name="NewbiePolicy#set_actions"><a href="NewbiePolicy.html#set_actions">set_actions</a></li>

                <li data-name="NewbiePolicy#severity_slider_duplicate"><a href="NewbiePolicy.html#severity_slider_duplicate">severity_slider_duplicate</a></li>

                <li data-name="NewbiePolicy#severity_slider_inappropriate"><a href="NewbiePolicy.html#severity_slider_inappropriate">severity_slider_inappropriate</a></li>

                <li data-name="NewbiePolicy#suspiciousness_duplicate"><a href="NewbiePolicy.html#suspiciousness_duplicate">suspiciousness_duplicate</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="NotificationSelector">
            <span class="title">
                <a href="NotificationSelector.html">NotificationSelector</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="NotificationSelector#action"><a href="NotificationSelector.html#action">action</a></li>

                <li data-name="NotificationSelector#extra_block"><a href="NotificationSelector.html#extra_block">extra_block</a></li>

                <li data-name="NotificationSelector#mode"><a href="NotificationSelector.html#mode">mode</a></li>

                <li data-name="NotificationSelector#mode_switcher"><a href="NotificationSelector.html#mode_switcher">mode_switcher</a></li>

                <li data-name="NotificationSelector#val"><a href="NotificationSelector.html#val">val</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="Report">
            <span class="title">
                <a href="Report.html">Report</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="SeveritySlider">
            <span class="title">
                <a href="SeveritySlider.html">SeveritySlider</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="SeveritySlider#val"><a href="SeveritySlider.html#val">val</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="SharedStore">
            <span class="title">
                <a href="SharedStore.html">SharedStore</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="SharedStore#change"><a href="SharedStore.html#change">change</a></li>

                <li data-name="SharedStore#interval_transaction"><a href="SharedStore.html#interval_transaction">interval_transaction</a></li>

                <li data-name="SharedStore#transaction"><a href="SharedStore.html#transaction">transaction</a></li>

                <li data-name="SharedStore#val"><a href="SharedStore.html#val">val</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="Variables">
            <span class="title">
                <a href="Variables.html">Variables</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="Variables#check"><a href="Variables.html#check">check</a></li>

                <li data-name="Variables#escape"><a href="Variables.html#escape">escape</a></li>

                <li data-name="Variables#get"><a href="Variables.html#get">get</a></li>

                <li data-name="Variables#get_language"><a href="Variables.html#get_language">get_language</a></li>

                <li data-name="Variables#parse"><a href="Variables.html#parse">parse</a></li>

                <li data-name="Variables#refresh"><a href="Variables.html#refresh">refresh</a></li>

                <li data-name="Variables#resolve"><a href="Variables.html#resolve">resolve</a></li>

                <li data-name="Variables#set_namespaces"><a href="Variables.html#set_namespaces">set_namespaces</a></li>

                <li data-name="Variables#update_cache"><a href="Variables.html#update_cache">update_cache</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="VariablesFromFirstPost">
            <span class="title">
                <a href="VariablesFromFirstPost.html">VariablesFromFirstPost</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="VariablesFromFirstPost#check"><a href="VariablesFromFirstPost.html#check">check</a></li>

                <li data-name="VariablesFromFirstPost#escape"><a href="VariablesFromFirstPost.html#escape">escape</a></li>

                <li data-name="VariablesFromFirstPost#get"><a href="VariablesFromFirstPost.html#get">get</a></li>

                <li data-name="VariablesFromFirstPost#get_language"><a href="VariablesFromFirstPost.html#get_language">get_language</a></li>

                <li data-name="VariablesFromFirstPost#parse"><a href="VariablesFromFirstPost.html#parse">parse</a></li>

                <li data-name="VariablesFromFirstPost#refresh"><a href="VariablesFromFirstPost.html#refresh">refresh</a></li>

                <li data-name="VariablesFromFirstPost#resolve"><a href="VariablesFromFirstPost.html#resolve">resolve</a></li>

                <li data-name="VariablesFromFirstPost#set_namespaces"><a href="VariablesFromFirstPost.html#set_namespaces">set_namespaces</a></li>

                <li data-name="VariablesFromFirstPost#update_cache"><a href="VariablesFromFirstPost.html#update_cache">update_cache</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="VariablesFromForum">
            <span class="title">
                <a href="VariablesFromForum.html">VariablesFromForum</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="VariablesFromForum#check"><a href="VariablesFromForum.html#check">check</a></li>

                <li data-name="VariablesFromForum#escape"><a href="VariablesFromForum.html#escape">escape</a></li>

                <li data-name="VariablesFromForum#get"><a href="VariablesFromForum.html#get">get</a></li>

                <li data-name="VariablesFromForum#get_language"><a href="VariablesFromForum.html#get_language">get_language</a></li>

                <li data-name="VariablesFromForum#parse"><a href="VariablesFromForum.html#parse">parse</a></li>

                <li data-name="VariablesFromForum#refresh"><a href="VariablesFromForum.html#refresh">refresh</a></li>

                <li data-name="VariablesFromForum#refresh_thread"><a href="VariablesFromForum.html#refresh_thread">refresh_thread</a></li>

                <li data-name="VariablesFromForum#resolve"><a href="VariablesFromForum.html#resolve">resolve</a></li>

                <li data-name="VariablesFromForum#set_namespaces"><a href="VariablesFromForum.html#set_namespaces">set_namespaces</a></li>

                <li data-name="VariablesFromForum#update_cache"><a href="VariablesFromForum.html#update_cache">update_cache</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="VBulletin">
            <span class="title">
                <a href="VBulletin.html">VBulletin</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="VBulletin.iframe_callbacks"><a href="VBulletin.html#.iframe_callbacks">iframe_callbacks</a></li>

                <li data-name="VBulletin#_add_standard_data"><a href="VBulletin.html#_add_standard_data">_add_standard_data</a></li>

                <li data-name="VBulletin#activity"><a href="VBulletin.html#activity">activity</a></li>

                <li data-name="VBulletin#attachments_delete"><a href="VBulletin.html#attachments_delete">attachments_delete</a></li>

                <li data-name="VBulletin#bbcode_html"><a href="VBulletin.html#bbcode_html">bbcode_html</a></li>

                <li data-name="VBulletin#bbcode_html_newthread"><a href="VBulletin.html#bbcode_html_newthread">bbcode_html_newthread</a></li>

                <li data-name="VBulletin#build_url"><a href="VBulletin.html#build_url">build_url</a></li>

                <li data-name="VBulletin#config"><a href="VBulletin.html#config">config</a></li>

                <li data-name="VBulletin#css_add"><a href="VBulletin.html#css_add">css_add</a></li>

                <li data-name="VBulletin#css_keys"><a href="VBulletin.html#css_keys">css_keys</a></li>

                <li data-name="VBulletin#detect_post_error"><a href="VBulletin.html#detect_post_error">detect_post_error</a></li>

                <li data-name="VBulletin#editor_get"><a href="VBulletin.html#editor_get">editor_get</a></li>

                <li data-name="VBulletin#editor_set"><a href="VBulletin.html#editor_set">editor_set</a></li>

                <li data-name="VBulletin#fix_url"><a href="VBulletin.html#fix_url">fix_url</a></li>

                <li data-name="VBulletin#folder_pms"><a href="VBulletin.html#folder_pms">folder_pms</a></li>

                <li data-name="VBulletin#forum_threads"><a href="VBulletin.html#forum_threads">forum_threads</a></li>

                <li data-name="VBulletin#get"><a href="VBulletin.html#get">get</a></li>

                <li data-name="VBulletin#get_pages"><a href="VBulletin.html#get_pages">get_pages</a></li>

                <li data-name="VBulletin#get_posts"><a href="VBulletin.html#get_posts">get_posts</a></li>

                <li data-name="VBulletin#infraction_give"><a href="VBulletin.html#infraction_give">infraction_give</a></li>

                <li data-name="VBulletin#infraction_give_custom"><a href="VBulletin.html#infraction_give_custom">infraction_give_custom</a></li>

                <li data-name="VBulletin#infraction_ids"><a href="VBulletin.html#infraction_ids">infraction_ids</a></li>

                <li data-name="VBulletin#ip_users"><a href="VBulletin.html#ip_users">ip_users</a></li>

                <li data-name="VBulletin#login"><a href="VBulletin.html#login">login</a></li>

                <li data-name="VBulletin#moderation_page"><a href="VBulletin.html#moderation_page">moderation_page</a></li>

                <li data-name="VBulletin#on_posts_modified"><a href="VBulletin.html#on_posts_modified">on_posts_modified</a></li>

                <li data-name="VBulletin#parse"><a href="VBulletin.html#parse">parse</a></li>

                <li data-name="VBulletin#ping"><a href="VBulletin.html#ping">ping</a></li>

                <li data-name="VBulletin#pm_send"><a href="VBulletin.html#pm_send">pm_send</a></li>

                <li data-name="VBulletin#post"><a href="VBulletin.html#post">post</a></li>

                <li data-name="VBulletin#post_create"><a href="VBulletin.html#post_create">post_create</a></li>

                <li data-name="VBulletin#post_delete"><a href="VBulletin.html#post_delete">post_delete</a></li>

                <li data-name="VBulletin#post_edit"><a href="VBulletin.html#post_edit">post_edit</a></li>

                <li data-name="VBulletin#post_info"><a href="VBulletin.html#post_info">post_info</a></li>

                <li data-name="VBulletin#post_report"><a href="VBulletin.html#post_report">post_report</a></li>

                <li data-name="VBulletin#posts_moderated"><a href="VBulletin.html#posts_moderated">posts_moderated</a></li>

                <li data-name="VBulletin#posts_move"><a href="VBulletin.html#posts_move">posts_move</a></li>

                <li data-name="VBulletin#process_posts"><a href="VBulletin.html#process_posts">process_posts</a></li>

                <li data-name="VBulletin#quotes_process"><a href="VBulletin.html#quotes_process">quotes_process</a></li>

                <li data-name="VBulletin#redirect_modcp_ipsearch"><a href="VBulletin.html#redirect_modcp_ipsearch">redirect_modcp_ipsearch</a></li>

                <li data-name="VBulletin#server_stats"><a href="VBulletin.html#server_stats">server_stats</a></li>

                <li data-name="VBulletin#spammer_delete"><a href="VBulletin.html#spammer_delete">spammer_delete</a></li>

                <li data-name="VBulletin#stringify"><a href="VBulletin.html#stringify">stringify</a></li>

                <li data-name="VBulletin#thread_bump"><a href="VBulletin.html#thread_bump">thread_bump</a></li>

                <li data-name="VBulletin#thread_create"><a href="VBulletin.html#thread_create">thread_create</a></li>

                <li data-name="VBulletin#thread_edit"><a href="VBulletin.html#thread_edit">thread_edit</a></li>

                <li data-name="VBulletin#thread_merge"><a href="VBulletin.html#thread_merge">thread_merge</a></li>

                <li data-name="VBulletin#thread_openclose"><a href="VBulletin.html#thread_openclose">thread_openclose</a></li>

                <li data-name="VBulletin#thread_posts"><a href="VBulletin.html#thread_posts">thread_posts</a></li>

                <li data-name="VBulletin#thread_reply"><a href="VBulletin.html#thread_reply">thread_reply</a></li>

                <li data-name="VBulletin#thread_whoposted"><a href="VBulletin.html#thread_whoposted">thread_whoposted</a></li>

                <li data-name="VBulletin#threads_complete"><a href="VBulletin.html#threads_complete">threads_complete</a></li>

                <li data-name="VBulletin#url_decode"><a href="VBulletin.html#url_decode">url_decode</a></li>

                <li data-name="VBulletin#user_ban"><a href="VBulletin.html#user_ban">user_ban</a></li>

                <li data-name="VBulletin#user_current"><a href="VBulletin.html#user_current">user_current</a></li>

                <li data-name="VBulletin#user_info"><a href="VBulletin.html#user_info">user_info</a></li>

                <li data-name="VBulletin#user_ips"><a href="VBulletin.html#user_ips">user_ips</a></li>

                <li data-name="VBulletin#user_moderation_info"><a href="VBulletin.html#user_moderation_info">user_moderation_info</a></li>

                <li data-name="VBulletin#user_overlapping"><a href="VBulletin.html#user_overlapping">user_overlapping</a></li>

                <li data-name="VBulletin#user_signature_get"><a href="VBulletin.html#user_signature_get">user_signature_get</a></li>

                <li data-name="VBulletin#user_signature_set"><a href="VBulletin.html#user_signature_set">user_signature_set</a></li>

                <li data-name="VBulletin#usernote_add"><a href="VBulletin.html#usernote_add">usernote_add</a></li>

                <li data-name="VBulletin#usernote_edit"><a href="VBulletin.html#usernote_edit">usernote_edit</a></li>

                <li data-name="VBulletin#usernote_info"><a href="VBulletin.html#usernote_info">usernote_info</a></li>

                <li data-name="VBulletin#users_complete"><a href="VBulletin.html#users_complete">users_complete</a></li>

                <li data-name="VBulletin#users_list_new"><a href="VBulletin.html#users_list_new">users_list_new</a></li>

                <li data-name="VBulletin#when"><a href="VBulletin.html#when">when</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="Violations">
            <span class="title">
                <a href="Violations.html">Violations</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="Violations#refresh"><a href="Violations.html#refresh">refresh</a></li>

                <li data-name="Violations#update_cache"><a href="Violations.html#update_cache">update_cache</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

        <li class="item" data-name="Widget">
            <span class="title">
                <a href="Widget.html">Widget</a>

            </span>
            <ul class="members itemMembers">

            </ul>
            <ul class="typedefs itemMembers">

            </ul>
            <ul class="methods itemMembers">

            <span class="subtitle">Methods</span>

                <li data-name="Widget#val"><a href="Widget.html#val">val</a></li>

            </ul>
            <ul class="events itemMembers">

            </ul>
        </li>

    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="src_widgets_notification_selector.js.html">Source: src/widgets/notification_selector.js</h1>




    <section>
        <article>
            <pre class="prettyprint source "><code>/**
 * @file Notification Selector
 * @author Andrew Sayers
 * @summary Select details for various levels of notification
 */

/**
 * @summary Select details for various levels of notification
 * @constructor
 * @extends ActionWidget
 * @param {Object} args notification arguments
 * @example
 *
 * var notification = new NotificationSelector({
 *
 *     // default values (can be changed with val()):
 *     level               : 'none', // or 'PM' or 'warning' or 'infraction'
 *     namespace           : 'variables namespace', // namespace to retrieve variables from
 *     violation           : 'default violation', // string, numeric ID or object
 *     keys                : {...}, // keys to use when resolving variables
 *           title_variable: 'Title variable', // variable to use for PM title or infraction reason
 *             ban_variable: 'Ban reason variable', // variable to use for reason to ban an account
 *          bbcode_variable: 'BBCode variable', // variable to use for BBCode
 *      note_title_variable: 'User note title variable', // variable to use for user note title
 *     note_bbcode_variable: 'User note BBCode variable', // variable to use for user note BBCode
 *     // these two usually aren't used:
 *     // title : 'initial text for PM title',
 *     // bbcode: 'initial text for BBCode',
 *
 *     // other data needed for the selector to function:
 *     user            : { username: ..., user_id: ... }, // user to apply action to
 *     v               : variables, // Variables object
 *     bb              : bb, // BulletinBoard object
 *     violation_groups: [{ name: '...', violations: [v1,v2,...]},...], // list of violations to display
 *     thread_id       : 12345, // variables will be parsed and previews will display as if rendered in this thread
 *     loading_html    : 'Loading, please wait...', // shown while the preview is updated
 *     callback        : function(keys) { ... }, // called with the current data
 *     container       : notification_appended_to_this
 *
 * });
 */
function NotificationSelector( args ) {

    var notification = this;

    var user = { username: args.user.username, user_id: args.user.user_id };

    ActionWidget.call(
        this, args, 'notification_selector',
        function(keys) {

            var value = this.val();

            var return_keys = $.extend( {}, value.keys );
            keys.violation = return_keys.violation = value.violation.name;
            function success() {
                return_keys['notification result'] = 'success';
                return args.bb.usernote_add(
                    user.user_id,
                    notification._resolve( value.note_title_variable , $.extend( keys, return_keys ) ),
                    notification._resolve( value.note_bbcode_variable, $.extend( keys, return_keys ) )
                ).then(function() {
                    return { keys: return_keys };
                });
            };

            function fail(error) {
                return_keys['notification result'] = 'fail';
                return_keys['notification error' ] = error;
                return args.bb.usernote_add(
                    user.user_id,
                    notification._resolve( value.note_title_variable , $.extend( keys, return_keys ) ),
                    notification._resolve( value.note_bbcode_variable, $.extend( keys, return_keys ) )
                ).then(function() {
                    var dfd = jQuery.Deferred();
                    dfd.reject(error);
                    return dfd.promise();
                });
            };

            switch ( value.level ) {

            case 'PM':
                return_keys['notification title' ] = value.title;
                return_keys['notification bbcode'] = value.bbcode;
                return args.bb.pm_send( user.username, value.title, value.bbcode ).then(success,fail);

            case 'warning'   : var is_warning = true; // then FALL THROUGH
            case 'infraction':
                return_keys['notification title' ] = notification._resolve( value.ban_variable, keys );
                return_keys['notification bbcode'] = value.bbcode;
                return args.bb.infraction_give({
                    administrative_note: notification._resolve( value.title_variable, keys ),
                    ban_reason         : return_keys['notification title'],
                    bbcode             : return_keys['notification bbcode'],
                    user_id            : user.user_id,
                    is_warning         : is_warning,
                    infraction_id      : value.violation.id
                }).then(success,fail);

            case 'none':
                return null;

            }

        },
        function() {
            if ( notification.value.level != 'none' )
                return [{ type: notification.value.level, target: user }, { type: 'usernote', target: user }]
        },
        function() {
            if ( notification.value.level != 'none' &amp;&amp; !select.val() )
                return [ 'Please select a violation for ' + user.username ];
        }
    );

    this.bb           = args.bb;
    this.loading_html = args.loading_html;
    this.thread_id    = args.thread_id;
    this.title_map    = {};
    this.bbcode_map   = {};
    this.value        = {
        level               : null,
        namespace           : null,
        violation           : null,
        keys                : null,
              title_variable: null,
                ban_variable: null,
             bbcode_variable: null,
         note_title_variable: null,
        note_bbcode_variable: null,
        bbcode: null,
        title : null
    };
    this.old_title  = '';
    this.old_bbcode = '';

    var select = this.element.find('select');

    if ( args.violation_groups.length == 1 ) {
        this.element.find('select').append(
            args.violation_groups[0].violations.map(function(violation) {
                return $('&lt;option>')
                    .data( 'violation', violation )
                    .val ( violation.id )
                    .text( violation.name );
            })
        );
    } else {
        select.append(
            args.violation_groups.map(function(group) {
                return $('&lt;optgroup>').attr( 'label', group.name )
                    .append(
                        group.violations.map(function(violation) {
                            return $('&lt;option>')
                                .data( 'violation', violation )
                                .val ( violation.id )
                                .text( violation.name );
                        })
                    );
            })
        );
    }

    select.change(function() {

        if ( $(this).val() == '' ) {

            notification.element.addClass('missing-violation');

        } else {

            var value = notification.value;
            var violation = $(':selected',this).data('violation');

            var keys = $.extend( { violation: violation.name, points: violation.points }, value.keys );

            var bbcode = $.isArray(value.bbcode_variable) ? value.bbcode_variable.slice(0) : [ value.bbcode_variable ];
            var title  = $.isArray(value. title_variable) ? value. title_variable.slice(0) : [ value. title_variable ];

            bbcode.push(keys.violation);
            title .push(keys.violation);

            notification.element.removeClass('missing-violation');

            notification.update_maps(value.level);

            if ( value.level == 'PM' ) {
                if ( value.title === null ) {
                    var new_title = notification._resolve( title, keys );
                    if ( new_title != notification.old_title ) {
                        notification.element.find('.'+value.level + ' .title').val(
                            notification.title_map.hasOwnProperty(new_title)
                            ? notification.title_map[new_title]
                            :                        new_title
                        );
                        notification.old_title = new_title;
                    }
                } else {
                    notification.element.find('.'+value.level + ' .title').val( value.title );
                    notification.old_title = value.title;
                };
            } else {
                value.title = null;
                [ 'top', 'bottom' ].forEach(function(location) {
                    notification.element.find('.'+value.level + ' .message-' + location).html(
                        args.v.resolve( 'report process', value.level + ' message ' + location, keys ) );
                });
            }

            if ( value.bbcode === null ) {
                var new_bbcode = notification._resolve( bbcode, keys );
                if ( new_bbcode != notification.old_bbcode ) {
                    notification.element.find('.'+value.level + ' textarea').val(
                        notification.bbcode_map.hasOwnProperty(new_bbcode)
                        ? notification.bbcode_map[new_bbcode]
                        :                         new_bbcode
                    );
                    notification.old_bbcode = new_bbcode;
                }
            } else {
                notification.element.find('.'+value.level + ' textarea').val( value.bbcode );
                notification.old_bbcode = value.bbcode;
            };

            if ( notification.element.hasClass('preview') ) {
                var level_element = notification.element.children('.'+value.level);
                level_element.find('.preview').html( args.loading_html );
                args.bb.bbcode_html( args.thread_id, level_element.find('textarea').val() )
                    .done(function(html) { level_element.find('.preview').html(html) })
                ;
            }

            value.bbcode = null;

        }
    });

    this.element.find('.reset').click(function() {
        var input_bbcode = $(this).siblings('textarea').val();
        if (
            notification.bbcode_map.hasOwnProperty(notification.old_bbcode) &amp;&amp;
            input_bbcode == notification.old_bbcode
        ) {
            $(this).siblings('textarea').val( notification.bbcode_map[notification.old_bbcode] );
            delete notification.bbcode_map[notification.old_bbcode];
        } else {
            notification.bbcode_map[notification.old_bbcode] = input_bbcode;
            $(this).siblings('textarea').val( notification.old_bbcode );
        }
    });


    this.val(args);

}

NotificationSelector.prototype = Object.create(ActionWidget.prototype, {
    bb          : { writable: true, configurable: false },
    loading_html: { writable: true, configurable: false },
    thread_id   : { writable: true, configurable: false },
    button      : { writable: true, configurable: false },
    title_map   : { writable: true, configurable: false },
    bbcode_map  : { writable: true, configurable: false },
    value       : { writable: true, configurable: false }

});
NotificationSelector.prototype.constructor = NotificationSelector;

NotificationSelector.prototype.update_maps = function(level) {
    var input_title  = this.element.find('.'+level + ' .title'  ).val();
    var input_bbcode = this.element.find('.'+level + ' textarea').val();
    if ( this.old_title  != '' &amp;&amp; this.old_title  != input_title  ) this. title_map[this.old_title ] = input_title;
    if ( this.old_bbcode != '' &amp;&amp; this.old_bbcode != input_bbcode ) this.bbcode_map[this.old_bbcode] = input_bbcode;
    this.old_title = this.old_bbcode = ''; // disable updates until the values are reset
}


/**
 * @summary Get/set widget's values
 * @param {Object} value new value
 * @return {Object} (new) value
 * @example
 *
 * ns.val({
 *     level          : 'none', // or 'PM' or 'warning' or 'infraction'
 *     namespace      : 'variables namespace', // namespace to retrieve variables from
 *     bbcode_variable: 'BBCode variable', // variable to use for BBCode
 *     ban_variable   : 'Ban reason variable', // variable to use for reason to ban an account
 *     title_variable : 'Title variable', // variable to use for PM title
 *     keys           : {...}, // keys to use when resolving variables
 *     violation      : 'default violation', // string, numeric ID or object
 *     // these two usually aren't used:
 *     // title  : 'initial text for PM title',
 *     // bbcode : 'initial text for BBCode',
 *     data           : ..., arbitrary data used by the calling code
 * });
 *
 * @description
 * Note: In the return object, 'violation' will be set to the current violation
 * object (not the default string), and 'title' and 'bbcode' will be set to the
 * current strings.
 *
 * Values remain unchanged if they aren't passed (no need to pass 'namespace' each time)
 *
 */
NotificationSelector.prototype.val = function( value ) {

    if ( value ) {

        var need_update = ['level', 'namespace', 'bbcode_variable', 'title_variable', 'keys', 'bbcode', 'title' ]
            .reduce(function(prev, property) { return prev || value.hasOwnProperty(property) }, false);

        if ( value.hasOwnProperty('level') &amp;&amp; value.level != this.value.level ) {
            this.update_maps(this.value.level);
            this.element.removeClass('none PM warning infraction').addClass(value.level)
                .find('input,select,textarea').prop( 'required', false );
            this.element                          .find('select'  ).prop( 'required', true );
            this.element.children('.'+value.level).find('textarea').prop( 'required', true );
        }

        if ( value.hasOwnProperty('violation') ) {
            this.update_maps(this.value.level);
            var old_violation = this.element.find('select').val();
            switch ( typeof(value.violation) ) {
            case 'string': this.element.find('option').filter(function() { return $(this).text() == value.violation || this.value == value.violation }).prop( 'selected', true ); break;
            case 'number': this.element.find('select').val( value.violation ); break;
            case 'Object': this.element.find('select').val( value.violation.id ); break;
            }
            need_update |= old_violation != this.element.find('select').val();
        }

        ActionWidget.prototype.val.call( this, value );

        if ( need_update )
            this.element.find('select').change();

    }

    return $.extend( ActionWidget.prototype.val.call(this), {
        violation    : this.element.find('option:selected' ).data('violation'),
        title        : this.element.find('.' + this.value.level + ' .title'  ).val(),
        bbcode       : this.element.find('.' + this.value.level + ' textarea').val(),
    });

}

/**
 * @summary Get/set the box's current notification mode
 * @param {string=} mode 'edit' or 'preview'
 * @return {string} (new) mode
 */
NotificationSelector.prototype.mode = function( mode ) {
    if ( mode &amp;&amp; !this.element.hasClass(mode) ) {
        this.element.removeClass('edit preview').addClass(mode);
        if ( mode == 'preview' ) {
            var level_element = this.element.children('.'+this.value.level);
            level_element.find('.preview').html( this.loading_html );
            this.bb.bbcode_html( this.thread_id, level_element.find('textarea').val() )
                .done(function(html) { level_element.find('.preview').html(html) })
            ;
        }
    }
    return this.element.attr('class').replace( /.*\b(edit|preview)\b.*/, "$1" );
}

/**
 * @summary Mode-switching button
 * @return {jQuery}
 * @description this bit of sugar provides a "mode switch" button for the widget
 */
NotificationSelector.prototype.mode_switcher = function() {
    var notification = this;
    if ( !this.button )
        this.button = $('&lt;input class="notification-text-button" type="button">')
        .val( notification.element.hasClass('preview') ? 'switch to edit mode' : 'switch to preview mode' )
        .on( 'click', function() {
            var new_mode = notification.element.hasClass('preview') ? 'edit' : 'preview';
            this.value = 'switch to ' + new_mode + ' mode';
            notification.mode(new_mode);
        });
    return this.button;
}

/**
 * @summary &lt;div> element where you can put "extra" actions
 * @return {jQuery}
 * @description Sometimes it's useful to place another widget inside this one
 * (e.g. an extra action to fire at the same time).  This element is
 * a place to put such widgets
 */
NotificationSelector.prototype.extra_block = function() { return this.element.find('.extra') }
</code></pre>
        </article>
    </section>








        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta1</a> on 28 April 2015
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
